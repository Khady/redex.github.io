<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-da861181a97bc183434d.js" as="script"/><link rel="preload" href="/component---src-templates-package-js-05f1f5d95ef3cee763da.js" as="script"/><link rel="preload" href="/path---packages-reason-nact-b249c443a23e7be6a527.js" as="script"/><link rel="preload" href="/app-8b680b9c588ff34fe75e.js" as="script"/><link rel="preload" href="/commons-80f9a952bc5de6f62d35.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-8b680b9c588ff34fe75e.js","182681245775973":"component---src-templates-package-js-05f1f5d95ef3cee763da.js","59264774116171":"component---src-templates-keyword-js-a98db6e2ea05b871b18e.js","162898551421021":"component---src-pages-404-js-82589efb8b345db01aa2.js","218150900437399":"component---src-pages-error-404-js-d9adb791a801287937fe.js","35783957827783":"component---src-pages-index-js-70c89d63e457288dfee6.js","207799040600393":"component---src-pages-keywords-js-b6cf4578c41af2fa0e75.js","120867015663956":"component---src-pages-packages-js-3c48b8c578315641511c.js","100876079926477":"component---src-pages-packages-unpublished-js-f52d6fd8206102890f9b.js","60335399758886":"path----131f9aef94525eeb6ecd.js","151040794074776":"path---packages-bs-blueprintjs-core-648599b30db759cf137b.js","156945507105044":"path---packages-bs-blueprintjs-datetime-9aa44f36417e909c4fec.js","220507515771876":"path---packages-bs-blueprintjs-labs-9e8315719724095d2dc3.js","86449549158371":"path---packages-bs-blueprintjs-table-a670a0afd0319aec1fec.js","135549479327155":"path---packages-nebuta-bs-jquery-2077c3028051595a7234.js","30907236301184":"path---packages-bs-atom-681cf8dc5249ecd86dc5.js","227648988400732":"path---packages-bs-axios-0a1dfbf6c552636b697e.js","24315660261187":"path---packages-bs-batteries-e8d44b2eeb492b645c44.js","184467676977407":"path---packages-bs-date-fns-22230cf44ba47f1c2991.js","103137347747830":"path---packages-bs-director-9610e57932cbc81210a7.js","269689219665119":"path---packages-bs-dom-7bea7a5fc8edf7411702.js","76067603543503":"path---packages-bs-enzyme-49ee48e1ebf61d9a830f.js","254001343305830":"path---packages-bs-express-bd0ea69dcae427eecafa.js","42251463360473":"path---packages-bs-fetch-c64473882c97d0efc65d.js","62756271815014":"path---packages-bs-glamor-8b167c150ffbe926f698.js","270313218106292":"path---packages-bs-jest-5621728fa3b313f2297f.js","25256703169320":"path---packages-bs-json-a7bc5d8db188051bfc6e.js","114482401418792":"path---packages-bs-moment-f3f62690265b83d2eb46.js","242690715114727":"path---packages-bs-mongodb-938977c0cf2079c4bdcc.js","108971801909486":"path---packages-bs-most-bd5ba5b0ef30f0da0eaf.js","246692663958478":"path---packages-bs-next-cc153cf047cf9baf058b.js","66789691484227":"path---packages-bs-nprogress-b0c616bda3f22a169bab.js","69795677736637":"path---packages-bs-numeral-1c1c38dfff231ee82ea2.js","254070940634255":"path---packages-bs-ocaml-protoc-json-2184442d4e652cba4990.js","108088959570144":"path---packages-bs-react-intl-cde134a5a729faea775d.js","155857297900893":"path---packages-bs-react-native-8fb7cd000590f4b6cbb9.js","275645386806589":"path---packages-bs-react-pdf-cb4c4b6f743b239ab727.js","39120714797016":"path---packages-bs-react-test-renderer-951626ad47515fa17a6b.js","209149974883294":"path---packages-bs-rebass-0d4d0d678c9e70e26135.js","263526390982883":"path---packages-bs-rebug-f7b486b7225d523e1454.js","87653541032130":"path---packages-bs-snabbdom-018d30b7d6d4dd7d6bdf.js","55135318594572":"path---packages-bs-spotify-web-api-05ffa5e4e4706180b55c.js","191332538538799":"path---packages-bs-vscode-a4f00b2c18d0ea53ab6e.js","224957965687283":"path---packages-bs-webapi-695f15a04573e08bb1d8.js","58830221465563":"path---packages-bs-websockets-8222e2e7b83b102e33c0.js","145929522884589":"path---packages-bucklescript-phx-ee5c897d78150a3c1d31.js","154700633458570":"path---packages-bucklescript-tea-15f17fecabf80db03f27.js","99236298180895":"path---packages-immutable-re-e44639f233a91257024a.js","154053647533515":"path---packages-re-respect-710a666e47cbf2de8558.js","217055703797169":"path---packages-reason-apollo-d3bf0a62a96ce73f18cd.js","17142117545279":"path---packages-reason-nact-b249c443a23e7be6a527.js","247060083759418":"path---packages-reason-react-toolbox-65cb3cf33aa17f665d94.js","244429795112361":"path---packages-reason-react-fc823745d02f08e28f5d.js","96646752890658":"path---packages-reason-rebase-6fb87596e0b7436a77de.js","18871995413856":"path---packages-reductive-467684fe3a4f857c356e.js","141457221095995":"path---packages-reglinterface-b2ce1fb601faad7bfc62.js","210747900309507":"path---packages-reglios-45fcc8c8bd675870a8d2.js","70403208681976":"path---packages-reglnative-c2d7148502c009d9bd35.js","75309244914950":"path---packages-reglweb-8ea005bd444a4e59841f.js","10137420568994":"path---packages-regql-8aad64975fdb5df81002.js","85708539348022":"path---packages-tween-re-38eb3b900aa078e3a37d.js","178302934760734":"path---packages-unpublished-reprocessing-473fedbf943776c45353.js","280001483745883":"path---packages-unpublished-bs-benchmarkjs-8888b17ed973c2d4d322.js","221516598306752":"path---packages-unpublished-bs-chalk-796cdd5d07698345efb9.js","97729856297706":"path---packages-unpublished-bs-d-3-ce2aba560219b74e54da.js","123015402807791":"path---packages-unpublished-bs-geofire-04fabafea23ad911f99b.js","251968994555609":"path---packages-unpublished-bs-discord-js-ae044cfda1639b2abc9d.js","163587810402184":"path---packages-unpublished-bs-glob-442ce7c13197c01e5deb.js","221389749126973":"path---packages-unpublished-bs-history-0d7353c4b1e10729c633.js","241274862011074":"path---packages-unpublished-bs-immutablejs-81c0f6389d8ae7408bd6.js","42495562571795":"path---packages-unpublished-bs-leaflet-69cd3706b53a02396cf1.js","98472318734040":"path---packages-unpublished-bs-node-f0c3c1d0e3ecb3da2523.js","37994980099731":"path---packages-unpublished-bs-puppeteer-f74186bc247657423e60.js","47002018359132":"path---packages-unpublished-bs-revamp-59db0f7f37c80003fdf1.js","194059553347596":"path---packages-unpublished-bs-socket-io-4e0ae7f0e073bf266bc5.js","211412595978282":"path---packages-unpublished-bs-storybook-workspace-b1c105ade7b383c37212.js","43906787094368":"path---packages-unpublished-bs-transit-js-c1ba812a4032254b098c.js","86850508547687":"path---packages-unpublished-bucklescript-electron-e1c89b7cea28f28ed0a2.js","264853551384263":"path---packages-unpublished-infinite-jest-b84a86fe9b88eb9d6227.js","232472668959266":"path---packages-unpublished-reason-vue-a66fcbb3894c22bdb8c7.js","179423776689879":"path---packages-unpublished-refetch-fdd53bdcab007089669b.js","180093051097382":"path---packages-unpublished-rewebrtc-ae102b87d9b211c4695a.js","192894075014855":"path---packages-unpublished-reason-react-native-navigation-d74a3b0102f430cded6a.js","273322793104867":"path---packages-unpublished-vow-9869cfbdfee4b6f022a0.js","204408264090321":"path---keywords-bdd-0e26785711ccf010cf95.js","274825782630370":"path---keywords-xhr-8523b6fe829813cced64.js","159572070987416":"path---keywords-testing-bccf75c5581bf73cfccd.js","160026189874057":"path---keywords-next-js-c567274440e1fcc26d7c.js","64697371697309":"path---keywords-actors-83e9049c0b0621152a48.js","155266180269361":"path---keywords-actor-model-02eafb58db4e73f1d9ba.js","10735249897399":"path---keywords-erlang-3722dcee94b46ac9551e.js","275455110987710":"path---keywords-headless-0f4ae97e4970b370dcaf.js","244404066704974":"path---keywords-react-intl-97231f8766f20020b566.js","270070175621610":"path---keywords-node-3bb017f730ca70870543.js","37798291790630":"path---keywords-cqrs-92320533257414014b4f.js","134227692878802":"path---keywords-functional-e5d87591663271c23993.js","176405516191443":"path---keywords-electron-77b0f53b68d50cc2da28.js","35636886169650":"path---keywords-enzyme-e496c63b6496826dff8e.js","58154174017075":"path---keywords-ocaml-863ba0213203f7b6a359.js","47144827131795":"path---keywords-promise-4e3c9958a9c650ddff52.js","187554425499302":"path---keywords-most-js-f0114b54ea04c7341d5d.js","50676683166512":"path---keywords-streams-ae00d993fb65360f1ae2.js","40319343679231":"path---keywords-most-6b981ae7b69c17b2175c.js","40343824645959":"path---keywords-syntax-261e982544b674ec09f6.js","28864770193117":"path---keywords-discord-ec7355915c734c5e0b06.js","145233660955043":"path---keywords-nprogress-f79ef66a889dc671250c.js","94023960179678":"path---keywords-immutable-22dc361660048fe971c2.js","11663471685383":"path---keywords-bucklescript-ef40227d82d01f1efb65.js","127512701434775":"path---keywords-navigation-f460ede993deec8b1030.js","272019943400345":"path---keywords-jquery-08b6d83c67ecf0507a4d.js","181936307847382":"path---keywords-fetch-1bc06a083397961185d6.js","264011663977259":"path---keywords-phoenix-32d2c12eb58eb1354c6a.js","186551153708937":"path---keywords-actor-system-b0233ed5eeef726328f4.js","75558547259657":"path---keywords-jest-d86b7b5d9e4f1f843f48.js","164572226222233":"path---keywords-browser-116434e1492d8fc73874.js","268715521779700":"path---keywords-glamor-771450f5fda416bd9126.js","148795946024507":"path---keywords-vscode-4e3444f47b616a9082c5.js","130236102337147":"path---keywords-debug-35a636fd0f2356989b2d.js","22479201077674":"path---keywords-puppeteer-9821bc85a6dcb8d7d59e.js","206694208544540":"path---keywords-bsb-bdc0f29c3fb913331b54.js","223678228938973":"path---keywords-tween-e43b18bb29bfa0ea35c7.js","130754905729498":"path---keywords-scraping-d7d5f3cb626f06cdcf6e.js","220979445877114":"path---keywords-protobuf-a474b9f0ecdc11fe439e.js","153166363351607":"path---keywords-extension-8bca3030881d5deae031.js","280731345609405":"path---keywords-tea-b5b7ee2557cbc38bd98f.js","262889204267795":"path---keywords-axios-45efa7eb6107fc46ba95.js","29632598594835":"path---keywords-react-pdf-82854dd08641cc107f0b.js","78714062828637":"path---keywords-tdd-a98621f4badb4adf442d.js","268931828610668":"path---keywords-discord-js-dcf16f1bfd8e604d9c3b.js","160021342174092":"path---keywords-bs-platform-4d17f0106e808b1c7868.js","57423255307370":"path---keywords-react-native-28c8e91436337df22a08.js","169301617187153":"path---keywords-json-7022eb56aa1ee4477143.js","149279572899446":"path---keywords-reactive-0553f2ab0a3ddc660472.js","265147444101659":"path---keywords-css-e29c40da745fe1690e83.js","118456562438951":"path---keywords-apollo-96965eb083cdb387ac6b.js","95813927163762":"path---keywords-reason-2cc297447749fa52788d.js","138730362676474":"path---keywords-bs-batteries-07c0ecc0a405230a606f.js","133804671037547":"path---keywords-map-84bd9e4ed3a781335ad2.js","242989627641326":"path---keywords-graphql-2a81eed437a376e8d3ba.js","24973246019614":"path---keywords-nact-3a9622ffb51803ac0e37.js","171753718307311":"path---keywords-redux-25c92f0c3ff12eed97a4.js","130098355544376":"path---keywords-react-e444989df8d6238d17e7.js","2894287180723":"path---keywords-bs-axios-cd06f96ae034815d9ac6.js","6928771760933":"path---keywords-serialization-bbeb5444722c9fac19f1.js","125600552754506":"path---keywords-reasonml-e2b8d56ab8f4fb68214f.js","219364809868926":"path---keywords-date-fns-57d875bce38f861a3922.js","131638079766548":"path---keywords-akka-net-662e13dd336ee97fb33e.js","170854191904336":"path---keywords-test-8d614d02e368235f0ea8.js","162706431570435":"path---keywords-event-sourcing-e29403f5241c84f2709c.js","274483255703610":"path---keywords-async-ed6ff4061884f70c367d.js","18533452448171":"path---keywords-benchmark-js-eb06fe04dd337a7ca044.js","92912384985401":"path---keywords-bindings-47694f03d92bf73ffaed.js","225155840246015":"path---keywords-bs-react-pdf-8ecfa3f081dbf3e4650c.js","273029110271526":"path---keywords-non-blocking-7d98888a157907f51723.js","107095606296304":"path---keywords-akka-9ea33d5088cea9d4c533.js","22229843628336":"path---keywords-batteries-included-195fe4b0d4373bb0c0f0.js","151394404038513":"path---keywords-distributed-systems-4dbafb5b6b2eb3e532b4.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","126561438388264":"path---error-404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-0985589dd5cda94c4933.js","20939958281297":"path---keywords-9bbce50f3189c8218d56.js","646043723490":"path---packages-ed840c23b3cb2a9d6504.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","42426134719811":"path---packages-unpublished-44143b720c4ad2f7d660.js","114276838955818":"component---src-layouts-index-js-da861181a97bc183434d.js","254357647294934":"component---src-layouts-front-page-layout-js-c34b64db7afb8f5bd641.js"}
            //]]>
            </script><title data-react-helmet="true">redex</title><link rel="manifest" href="/favicons/manifest.json"/><link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon-180x180.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/favicons/apple-touch-startup-image-320x460.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/favicons/apple-touch-startup-image-640x920.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/favicons/apple-touch-startup-image-640x1096.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/favicons/apple-touch-startup-image-750x1294.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/favicons/apple-touch-startup-image-1182x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/favicons/apple-touch-startup-image-1242x2148.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/favicons/apple-touch-startup-image-748x1024.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/favicons/apple-touch-startup-image-768x1004.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/favicons/apple-touch-startup-image-1496x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/favicons/apple-touch-startup-image-1536x2008.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="228x228" href="/favicons/coast-228x228.png"/><meta name="msapplication-TileImage" content="/favicons/mstile-144x144.png"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/favicons/yandex-browser-manifest.json"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-80f9a952bc5de6f62d35.js","/app-8b680b9c588ff34fe75e.js","/path---packages-reason-nact-b249c443a23e7be6a527.js","/component---src-templates-package-js-05f1f5d95ef3cee763da.js","/component---src-layouts-index-js-da861181a97bc183434d.js"
])
  </script><style id="gatsby-inlined-css"></style></head><body><div id="___gatsby"><div class="css-nil" data-reactroot="" data-reactid="1" data-react-checksum="-354263697"><!-- react-empty: 2 --><div class="css-1yu5lzr" data-reactid="3"><div class="css-pay5zq" data-reactid="4"><div class="css-1tsxiyg" data-reactid="5"><div class="css-1n3mti3" data-reactid="6"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-3xwse6" style="vertical-align:middle;" data-reactid="7"><g data-reactid="8"><path d="m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z" data-reactid="9"></path></g></svg><input class="css-h28iaj" placeholder="Search packages" data-reactid="10"/></div></div><a class="css-14dfss7" href="/" data-reactid="11"><svg class="css-xovze3" data-reactid="12"><use href="/logo.svg#logo" xlink:href="/logo.svg#logo" xmlns:xlink="http://www.w3.org/1999/xlink" data-reactid="13"></use></svg></a></div></div><div class="css-pay5zq" data-reactid="14"><div data-reactid="15"><header class="css-l4x72g" data-reactid="16"><div class="css-1i32x9d" data-reactid="17"><div class="css-1k72ztx" data-reactid="18"><!-- react-text: 19 -->1<!-- /react-text --><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-aerbj5" style="vertical-align:middle;" data-reactid="20"><g data-reactid="21"><path d="m37.5 15l-12.2-1.6-5.3-10.9-5.3 10.9-12.2 1.6 9 8.2-2.3 11.8 10.8-5.8 10.8 5.8-2.3-11.8 9-8.2z" data-reactid="22"></path></g></svg></div><div class="css-10scxmb" data-reactid="23">Apache-2.0</div><div class="css-1k72ztx" data-reactid="24"><time datetime="2017-12-10T18:00:24.396Z" title="2017-12-10T18:00:24.396Z" data-reactid="25">1 week ago</time></div></div><div class="css-1kdo33z" data-reactid="26"><a class="css-1js2gtb" href="/packages/reason-nact" data-reactid="27">reason-nact</a><span class="css-qkolrv" data-reactid="28">1.0.1</span></div><div class="css-nil" data-reactid="29"><div class="css-1hx69qk" data-reactid="30">let reason-nact = (node.js, reason, actors) ⇒ your µ services have never been so typed</div><div class="css-u7agnl" data-reactid="31"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-18pdsvr" style="vertical-align:middle;" data-reactid="32"><g data-reactid="33"><path d="m9.5 10.5q0-1.2-0.8-1.9t-1.9-0.8-1.9 0.8-0.8 1.9 0.8 1.9 1.9 0.8 1.9-0.8 0.8-1.9z m22.7 12.2q0 1.1-0.8 1.9l-10.4 10.5q-0.8 0.8-2 0.8-1.1 0-1.9-0.8l-15.2-15.2q-0.8-0.8-1.3-2.2t-0.6-2.5v-8.8q0-1.1 0.8-1.9t1.9-0.8h8.9q1.1 0 2.5 0.5t2.1 1.4l15.2 15.2q0.8 0.8 0.8 1.9z m8.2 0q0 1.1-0.8 1.9l-10.5 10.5q-0.8 0.8-1.9 0.8-0.8 0-1.2-0.3t-1.2-1l10-10q0.8-0.8 0.8-1.9 0-1.1-0.8-1.9l-15.2-15.2q-0.8-0.8-2.1-1.4t-2.5-0.5h4.7q1.2 0 2.5 0.5t2.2 1.4l15.2 15.2q0.8 0.8 0.8 1.9z" data-reactid="34"></path></g></svg><span class="css-1ffud6r" style="border-color:#32994c;" data-reactid="35">bucklescript</span><span class="css-1ffud6r" style="border-color:#996632;" data-reactid="36">reason</span><span class="css-1ffud6r" style="border-color:#323299;" data-reactid="37">nact</span><span class="css-1ffud6r" style="border-color:#7f3299;" data-reactid="38">actors</span><span class="css-1ffud6r" style="border-color:#8ca559;" data-reactid="39">actor-model</span><span class="css-1ffud6r" style="border-color:#a55972;" data-reactid="40">akka</span><span class="css-1ffud6r" style="border-color:#a55959;" data-reactid="41">akka.net</span><span class="css-1ffud6r" style="border-color:#cc6599;" data-reactid="42">non-blocking</span><span class="css-1ffud6r" style="border-color:#bf3f3f;" data-reactid="43">actor system</span><span class="css-1ffud6r" style="border-color:#cc6565;" data-reactid="44">erlang</span><span class="css-1ffud6r" style="border-color:#7f3299;" data-reactid="45">event sourcing</span><span class="css-1ffud6r" style="border-color:#59a5a5;" data-reactid="46">distributed-systems</span></div></div><div class="css-62bqch" data-reactid="47"><a href="https://github.com/ncthbrt/reason-nact#readme" data-reactid="48">homepage</a><a href="https://github.com/ncthbrt/reason-nact" data-reactid="49">repository</a><a href="https://www.npmjs.com/package/reason-nact" data-reactid="50">npm</a><a href="http://github.com/ncthbrt/reason-nact/issues" data-reactid="51">issues</a><a data-reactid="52">documentation</a></div></header><div class="css-fbmq4" data-reactid="53"><p><img src="https://raw.githubusercontent.com/ncthbrt/nact/master/assets/logo.svg?sanitize=true" alt="nact Logo"></p>
<p><strong>let reason-nact = (node.js, reason, actors) ⇒ your µ services have never been so typed</strong></p>
<!-- Badges -->
<p><a href=""><img src="https://img.shields.io/travis/ncthbrt/reason-nact/master.svg?style=flat-square" alt="Travis branch"></a>
<a href=""><img src="https://img.shields.io/coveralls/ncthbrt/reason-nact.svg?style=flat-square" alt="Coveralls"></a> <a href="https://david-dm.org/ncthbrt/reason-nact"><img src="https://david-dm.org/ncthbrt/nact.svg?branch=master&#x26;style=flat-square" alt="Dependencies"></a> </p>
<p><a href="https://www.npmjs.com/package/reason-nact"><img src="https://img.shields.io/npm/v/nact.svg?style=flat-square" alt="npm"></a> <a href="https://www.reactivemanifesto.org/"><img src="https://img.shields.io/badge/we_are-reactive-blue.svg?style=flat-square" alt="we are reactive"></a></p>
<blockquote>
<p>Note:</p>
<p>Any and all feedback, comments and suggestions are welcome. Please open an issue if you
find anything unclear or misleading in the documentation. </p>
</blockquote>
<h1>Sponsored by</h1>
<p><a href="https://root.co.za"><img src="https://raw.githubusercontent.com/ncthbrt/nact/master/root-logo.svg?sanitize=true" alt="Root Logo"></a></p>
<h1>Table of Contents</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li>
<p><a href="#core-concepts">Core Concepts</a>
<em> <a href="#getting-started">Getting Started</a>
</em> <a href="#stateful-actors">Stateful Actors</a>
<em> <a href="#actor-communication">Actor Communication</a>
</em> <a href="#querying">Querying</a>
<em> <a href="#hierarchy">Hierarchy</a>
</em> <a href="#persistence">Persistence</a>
<em> <a href="#snapshotting">Snapshotting</a>
</em> <a href="#timeouts">Timeouts</a>  </p>
<!--  * Patterns and Practises !-->
</li>
</ul>
<h1>Introduction</h1>
<p>Nact is an implementation of the actor model for Node.js. It is inspired by the approaches taken by <a href="getakka.net">Akka</a> and <a href="https://erlang.com">Erlang</a>. Additionally it attempts to provide a familiar interface to users coming from Redux. This project provides a wrapper around nact for those using ReasonML and/or Bucklescript.</p>
<p>The goal of the project is to provide a simple way to create and reason about µ-services and asynchronous event driven architectures in Node.js.</p>
<p>The actor model describes a system made up of a set of entities called actors. An actor could be described as an independently running packet of state. Actors communicate solely by passing messages to one another.  Actors can also create more (child) actors.</p>
<p>Actor systems have been used to drive hugely scalable and highly available systems (such as WhatsApp and Twitter), but that doesn't mean it is exclusively for companies with big problems and even bigger pockets. Architecting a system using actors should be an option for any developer considering considering a move to a µ-services architecture:</p>
<ul>
<li>Creating a new type of actor is a very lightweight operation in contrast to creating a whole new microservice.</li>
<li><a href="https://doc.akka.io/docs/akka/2.5.4/java/general/remoting.html">Location transparency</a> and no shared state mean that it is possible to defer decisions around where to deploy a subsystem, avoiding the commonly cited problem of prematurely choosing a <a href="https://vimeo.com/74589816">bounded context</a>.</li>
<li>Using actors mean that the spaghetti you might see in a monolithic system is far less likely to happen in the first place as message passing creates less coupled systems. </li>
<li>Actors are asynchronous by design and closely adhere to the principles enumerated in the <a href="https://www.reactivemanifesto.org/">reactive manifesto</a></li>
<li>Actors deal well with both stateful and statelessness, so creating a smart cache, an in-memory event store or a stateful worker is just as easy as creating a stateless db repository layer without increasing infrastructural complexity.</li>
</ul>
<h2>Caveats</h2>
<p>While network transparency and clustering are planned features of the framework, they have not been implemented yet.</p>
<h1>Core Concepts</h1>
<h2>Getting Started</h2>
<p>Nact has only been tested to work on Node 8 and above. You can install nact in your project by invoking the following:</p>
<pre><code class="language-bash">npm install --save reason-nact
</code></pre>
<p>You'll also need to add <code>reason-nact</code> to your dependencies in the <code>bsconfig.json</code> file.</p>
<p>Once installed, you need to import the start function, which starts and then returns the actor system.</p>
<pre><code class="language-ocaml">open Nact;
let system = start();
</code></pre>
<p>Once you have a reference to the system, it is now possible to create our first actor. To create an actor you have to <code>spawn</code> it.  As is traditional, let us create an actor which says hello when a message is sent to it. Since this actor doesn't require any state, we can use the simpler <code>spawnStateless</code> function.</p>
<pre><code class="language-ocaml">type greetingMsg = {name: string};

let greeter =
  spawnStateless(
    ~name="greeter",
    system,
    ({name}, _) => print_endline("Hello " ++ name) |> Js.Promise.resolve
  );

dispatch(greeter, {name: "Erlich Bachman"});
</code></pre>
<p>The first unamed argument to <code>spawnStateless</code> is the parent, which is in this case the actor system. The <a href="#hierarchy">hierarchy</a> section will go into more detail about this.</p>
<p>The second unamed argument to <code>spawnStateless</code> is a function which is invoked when a message is received.</p>
<p>The name argument to <code>spawnStateless</code> is optional, and if omitted, the actor is automatically assigned a name by the system.</p>
<p>To communicate with the greeter, we need to <code>dispatch</code> a message to it informing it who we are:</p>
<pre><code class="language-ocaml">dispatch(greeter, { name: "Erlich Bachman" });
</code></pre>
<p>This should print <code>Hello Erlich Bachman</code> to the console. </p>
<blockquote>
<p>Note: Stateless actors can service multiple requests at the same time. Statelessness means that such actors do not have to cater for concurrency issues.</p>
</blockquote>
<p>To complete this example, we need to shutdown our system. We can do this by calling <code>stop(system)</code></p>
<p>An alternative to calling dispatch is opening <code>Nact.Operators</code> and using the  <code>&#x3C;-&#x3C;</code> operator:</p>
<pre><code class="language-ocaml">open Nact.Operators;
greeter &#x3C;-&#x3C; { name: "Erlich Bachman" };
{ name: "Erlich Bachman" } >-> greeter;
</code></pre>
<h2>Stateful Actors</h2>
<p>One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using the <code>spawn</code> function.</p>
<p>In this example, the state is initialized to an empty object. Each time a message is received by the actor, the current state is passed in as the first argument to the actor.  Whenever the actor encounters a name it hasn't encountered yet, it returns a copy of previous state with the name added. If it has already encountered the name it simply returns the unchanged current state. The return value is used as the next state.</p>
<pre><code class="language-ocaml">let statefulGreeter =
  spawn(
    ~name="stateful-greeter",
    system,
    (state, {name}, ctx) => {
      let hasPreviouslyGreetedMe = List.exists((v) => v === name, state);
      if (hasPreviouslyGreetedMe) {
        print_endline("Hello again " ++ name);
        state |> Js.Promise.resolve;
      } else {
        print_endline("Good to meet you, " ++ name ++ ". I am the " ++ ctx.name ++ " service!");
        [name, ...state] |> Js.Promise.resolve;
      }
    },
    []
  );
</code></pre>
<h2>Actor Communication</h2>
<p>An actor alone is a somewhat useless construct; actors need to work together. Actors can send messages to one another by using the <code>dispatch</code> method. </p>
<p>In this example, the actors Ping and Pong are playing a perfect ping-pong match. To start the match, we dispatch a message to ping and
specify that the sender in msgType is pong.</p>
<pre><code class="language-ocaml">open Nact;

open Nact.Operators;

let system = start();

type msgType =
  | Msg(actorRef(msgType), string);

let ping: actorRef(msgType) =
  spawnStateless(
    ~name="ping",
    system,
    (Msg(sender, msg), ctx) => {
      print_endline(msg);
      sender &#x3C;-&#x3C; Msg(ctx.self, ctx.name) |> Js.Promise.resolve
    }
  );

let pong: actorRef(msgType) =
  spawnStateless(
    ~name="pong",
    system,
    (Msg(sender, msg), ctx) => {
      print_endline(msg);
      sender &#x3C;-&#x3C; Msg(ctx.self, ctx.name) |> Js.Promise.resolve
    }
  );

ping &#x3C;-&#x3C; Msg(pong, "hello");
</code></pre>
<p>This produces the following console output:</p>
<pre><code>begin
ping
pong
ping
pong
ping
...
</code></pre>
<h2>Querying</h2>
<p>Actor systems don't live in a vacuum, they need to be available to the outside world. Commonly actor systems are fronted by REST APIs or RPC frameworks. REST and RPC style access patterns are blocking: a request comes in, it is processed, and finally returned to the sender using the original connection. To help bridge nact's non blocking nature, Nact provides a <code>query</code> function. Query returns a promise.</p>
<p>Similar to <code>dispatch</code>, <code>query</code> pushes a message on to an actor's mailbox, but differs in that it also creates a temporary actor. The temporary actor is passed into a function which returns the message to send to the target actor. When the temporary actor receives a message, the promise returned by the query resolves. </p>
<p>In addition to the message, <code>query</code> also takes in a timeout value measured in milliseconds. If a query takes longer than this time to resolve, it times out and the promise is rejected. A time bounded query is very important in a production system; it ensures that a failing subsystem does not cause cascading faults as queries queue up and stress available system resources.</p>
<p>In this example, we'll create a simple single user in-memory address book system.</p>
<blockquote>
<p>Note: We'll expand on this example in later sections.</p>
</blockquote>
<p>What are the basic requirements of a basic address book API? It should be able to:</p>
<ul>
<li>Create a new contact </li>
<li>Fetch all contacts</li>
<li>Fetch a specific contact</li>
<li>Update an existing contact</li>
<li>Delete a contact</li>
</ul>
<p>Because actor are message driven, let us define the message types used between the api and actor system:</p>
<pre><code class="language-ocaml">type contactId =
  | ContactId(int);

type contact = {
  name: string,
  email: string
};

type contactResponseMsg =
  | Success(contact)
  | NotFound;

type contactMsg =
  | CreateContact(contact)
  | RemoveContact(contactId)
  | UpdateContact(contactId, contact)
  | FindContact(contactId);
</code></pre>
<p>We also need to describe the shape of the contact actor's state. In this example, it was decided to create a <code>ContactIdMap</code> map to hold the list of contacts. <code>seqNumber</code> is used to assign each contact a unique identifier. <code>seqNumber</code> monotonically increases, even if a contact is deleted:</p>
<pre><code class="language-ocaml">module ContactIdCompare = {
  type t = contactId;
  let compare = (ContactId(left), ContactId(right)) => compare(left, right);
};

module ContactIdMap = Map.Make(ContactIdCompare);

type contactsServiceState = {
  contacts: ContactIdMap.t(contact),
  seqNumber: int
};
</code></pre>
<p>Now let us create functions to handle each message type:</p>
<pre><code class="language-ocaml">let createContact = ({contacts, seqNumber}, sender, contact) => {
  let contactId = ContactId(seqNumber);
  sender &#x3C;-&#x3C; (contactId, Success(contact));
  let nextContacts = ContactIdMap.add(contactId, contact, contacts);
  {contacts: nextContacts, seqNumber: seqNumber + 1}
};

let removeContact = ({contacts, seqNumber}, sender, contactId) => {
  let nextContacts = ContactIdMap.remove(contactId, contacts);
  let msg =
    if (contacts === nextContacts) {
      let contact = ContactIdMap.find(contactId, contacts);
      (contactId, Success(contact))
    } else {
      (contactId, NotFound)
    };
  sender &#x3C;-&#x3C; msg;
  {contacts: nextContacts, seqNumber}
};

let updateContact = ({contacts, seqNumber}, sender, contactId, contact) => {
  let nextContacts =
    ContactIdMap.remove(contactId, contacts) |> ContactIdMap.add(contactId, contact);
  let msg =
    if (nextContacts === contacts) {
      (contactId, Success(contact))
    } else {
      (contactId, NotFound)
    };
  sender &#x3C;-&#x3C; msg;
  {contacts: nextContacts, seqNumber}
};

let findContact = ({contacts, seqNumber}, sender, contactId) => {
  let msg =
    try (contactId, Success(ContactIdMap.find(contactId, contacts))) {
    | Not_found => (contactId, NotFound)
    };
  sender &#x3C;-&#x3C; msg;
  {contacts, seqNumber}
};
</code></pre>
<p>Finally we can put it all together and create the actor:</p>
<pre><code class="language-ocaml">let system = start();

let contactsService =
  spawn(
    ~name="contacts",
    system,
    (state, (sender, msg), _) =>
      (
        switch msg {
        | CreateContact(contact) => createContact(state, sender, contact)
        | RemoveContact(contactId) => removeContact(state, sender, contactId)
        | UpdateContact(contactId, contact) => updateContact(state, sender, contactId, contact)
        | FindContact(contactId) => findContact(state, sender, contactId)
        }
      )
      |> Js.Promise.resolve,
    {contacts: ContactIdMap.empty, seqNumber: 0}
  );
</code></pre>
<p>This should leave you with a working but very basic contacts service.
We can now interact with this actor from outside the actor system by calling the query function. In the example below, we are passing in a
function which constructs the final message to sender to the contactsService actor:</p>
<pre><code class="language-ocaml">let createDinesh = query(
    ~timeout=100 * milliseconds,
    contactsService,
    (tempReference) => (
      tempReference,
      CreateContact({name: "Dinesh Chugtai", email: "dinesh@piedpiper.com"})
    )
  );
</code></pre>
<h2>Hierarchy</h2>
<p>The application we made in the <a href="#querying">querying</a> section isn't very useful. For one it only supports a single user's contacts, and secondly it forgets all the user's contacts whenever the system restarts. In this section we'll solve the multi-user problem by exploiting an important feature of any blue-blooded actor system: the hierachy.</p>
<p>Actors are arranged hierarchially, they can create child actors of their own, and accordingly every actor has a parent. The lifecycle of an actor is tied to its parent; if an actor stops, then it's children do too.</p>
<p>Up till now we've been creating actors which are children of the actor system (which is a pseudo actor). However in a real system, this would be considered an anti pattern, for much the same reasons as placing all your code in a single file is an anti-pattern. By exploiting the actor hierarchy, you can enforce a separation of concerns and encapsulate system functionality, while providing a coherent means of reasoning with failure and system shutdown. </p>
<p>Let us imagine that the single user contacts service was simple a part of some larger system; an email campaign management API for example.  A potentially valid system could perhaps be represented by the diagram below. </p>
<img height="500px" alt="Example of an Actor System Hierarchy" src="https://raw.githubusercontent.com/ncthbrt/nact/master/assets/hierarchy-diagram.svg?sanitize=true"/>
<p>In the diagram, the email service is responsible for managing the template engine and email delivery, while the contacts service has choosen to model each user's contacts as an actor. (This is a very feasible approach in production provided you shutdown actors after a period of inactivity)</p>
<p>Let us focus on the contacts service to see how we can make effective of use of the hierarchy. To support multiple users, we need do three things: </p>
<ul>
<li>Modify our original contacts service to so that we can parameterise its parent and name</li>
<li>Create a parent to route requests to the correct child</li>
<li>Add a user id to the path of each API endpoint and add a <code>userId</code> into each message.</li>
</ul>
<p>Modifying our original service is as simple as the following:</p>
<pre><code class="language-ocaml">let createContactsService = (parent, userId) =>
  spawn(
    ~name=userId,
    parent,
    (state, (sender, msg), _) =>
      (
        switch msg {
        | CreateContact(contact) => createContact(state, sender, contact)
        | RemoveContact(contactId) => removeContact(state, sender, contactId)
        | UpdateContact(contactId, contact) => updateContact(state, sender, contactId, contact)
        | FindContact(contactId) => findContact(state, sender, contactId)
        }
      )
      |> Js.Promise.resolve,
    {contacts: ContactIdMap.empty, seqNumber: 0}
  );
</code></pre>
<p>Now we need to create the parent contact service. The parent checks if it has a child with the userId as the key. If it does not, it spawns the
child actor:</p>
<pre><code class="language-ocaml">let contactsService =
  spawn(
    system,
    (children, (sender, userId, msg), ctx) => {
      let potentialChild =
        try (Some(StringMap.find(userId, children))) {
        | _ => None
        };
      Js.Promise.resolve(
        switch potentialChild {
        | Some(child) =>
          dispatch(child, (sender, msg));
          children
        | None =>
          let child = createContactsService(ctx.self, userId);
          dispatch(child, (sender, msg));
          StringMap.add(userId, child, children)
        }
      )
    },
    StringMap.empty
  );
</code></pre>
<p>These two modifications show the power of an actor hierarchy. The contact service doesn't need to know the implementation details of its children (and doesn't even have to know about what kind of messages the children can handle). The children also don't need to worry about multi tenancy and can focus on the domain.</p>
<p>Now the only thing remaining for a MVP of our contacts service is some way of persisting changes...</p>
<h2>Persistence</h2>
<p>The contacts service we've been working on <em>still</em> isn't very useful. While we've extended the service to support multiple users, it has the unfortunate limitation that it loses the contacts each time the program restarts. To remedy this, nact extends stateful actors by adding a new function: <code>persist</code> </p>
<p>To use <code>persist</code>, the first thing we need to do is specify a persistence engine. Currently only a <a href="https://github.com/ncthbrt/reason-nact-postgres">PostgreSQL</a> engine is available (though it should be easy to create your own). To work with the PostgreSQL engine, install the persistent provider package using the command <code>npm install --save reason-nact-postgres</code>. Also ensure you add
the package to <code>bsconfig.json</code>. Now we'll need to modify the code creating the system to look something like the following (replacing "CONNECTION_STRING" with a valid postgresql connection string of course):</p>
<pre><code class="language-ocaml">let system = start(~persistenceEngine=NactPostgres.create("CONNECTION_STRING"), ());
</code></pre>
<p>The optional parameter <code>~persistenceEngine</code> adds the persistence plugin to the system using the specified persistence engine.</p>
<p>Now the only remaining work is to modify the contacts service to allow persistence. When the actor start up, it first receives all the persisted messages and then can begin processing new ones.  </p>
<pre><code class="language-ocaml">let createContactsService = (parent, userId) =>
  spawnPersistent(
    ~key="contacts" ++ userId,
    ~name=userId,
    parent,
    (state, (sender, msg), {persist}) =>
      persist((sender, msg))
      |> Js.Promise.then_ (
        () =>
          (
            switch msg {
            | CreateContact(contact) => createContact(state, sender, contact)
            | RemoveContact(contactId) => removeContact(state, sender, contactId)
            | UpdateContact(contactId, contact) => updateContact(state, sender, contactId, contact)
            | FindContact(contactId) => findContact(state, sender, contactId)
            }
          )
          |> Js.Promise.resolve
      ),
    {contacts: ContactIdMap.empty, seqNumber: 0}
  );
</code></pre>
<h3>Snapshotting</h3>
<p>Sometimes actors accumulate a lot of persisted events. This is problematic because it means that it can take a potentially long time for an actor to recover. For time-sensitive applictions, this would make nact an unsuitable proposition. Snapshotting is a way to skip replaying every single event. When a persistent actor starts up again, nact checks to see if there are any snapshots available in the <em>snapshot store</em>. Nact selects the latest snapshot. The snapshot contains the sequence number at which it was taken. The snapshot is passed as the initial state to the actor, and only the events which were persisted after the snapshot are replayed. </p>
<p>To modify the user contacts service to support snapshotting, we refactor the code to the following:</p>
<pre><code class="language-ocaml">let createContactsService = (parent, userId) =>
  spawnPersistent(
    ~key="contacts" ++ userId,
    ~name=userId,
    ~snapshotEvery=10 * messages,
    parent,
    (state, (sender, msg), {persist}) => {
      /* Same function as before */
    }    
    {contacts: ContactIdMap.empty, seqNumber: 0}
  );
</code></pre>
<p>Here we are using the optional argument <code>snapshotEvery</code> to instruct nact to make a snapshot every 10 messages.</p>
<h3>Timeouts</h3>
<p>While not strictly a part of the persistent actor, timeouts are frequently used with snapshotting. Actors take up memory, which is still a limited resource. If an actor has not processed messages in a while, it makes sense to shut it down until it is again needed; this frees up memory. Adding a timeout to the user contacts service is similar to snapshotting:</p>
<pre><code class="language-ocaml">let createContactsService = (parent, userId) =>
  spawnPersistent(
    ~key="contacts" ++ userId,
    ~name=userId,
    ~shutdownAfter=15 * minutes,
    ~snapshotEvery=10 * messages,
    parent,
    (state, (sender, msg), {persist}) => {
      /* Same function as before */
    }    
    {contacts: ContactIdMap.empty, seqNumber: 0}
  );
</code></pre>
</div></div></div></div></div></body></html>